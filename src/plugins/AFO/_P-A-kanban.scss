/* Kanban */

@keyframes fade_in {
  0% {
    opacity: 0%;
  }

  100% {
    opacity: 100%;
  }
}

.theme-dark,
.theme-light {
  .kanban-plugin__lane-form-wrapper {
    animation: fade_in 0.3s;
  }

  .kanban-plugin__lane-title {
    text-align: center;
  }

  .kanban-plugin__board.kanban-plugin__board {
    & > div {
      display: grid;
      grid-template-columns: repeat(auto-fit, var(--lane-width));
      width: 100%;
      gap: 10px;
      overflow-y: auto;
    }
  }

  .kanban-plugin__markdown-preview-view {
    & > div {
      & > * {
        padding-top: 1px;
        padding-bottom: 1px;
      }
    }
  }

  .kanban-plugin__lane-header-wrapper {
    border-bottom: 1px solid var(--P-kanban-hr-wrapper);
    padding-left: 5px;
    padding-right: 5px;
    padding-top: 5px;
    padding-bottom: 5px;
  }

  .kanban-plugin__lane-form-wrapper {
    border-color: var(--interactive-accent);
  }

  .kanban-plugin__lane {
    border: 2px solid var(--background-modifier-border);
  }

  .kanban-plugin__lane-input-actions {
    button {
      padding-top: 6px;
      padding-bottom: 6px;
    }

    .kanban-plugin__lane-action-cancel {
      background-color: var(--background-modifier-error);

      &:hover {
        background-color: var(--background-modifier-error-hover);
      }
    }
  }

  .kanban-plugin__item {
    transition: 0.2s ease-in-out !important;
    border-radius: 4px;
    border: 1px solid var(--P-kanban-item-border);

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      margin: 0px;
    }

    p {
      margin: 0px;
    }

    mjx-container[jax="CHTML"][display="true"] {
      margin-top: 3px;
      margin-bottom: 3px;
    }
  }

  .kanban-plugin__new-item-button {
    padding-top: 6px;
    padding-bottom: 6px;
  }

  .kanban-plugin__item-postfix-button-wrapper {
    width: 5px;

    .kanban-plugin__item-postfix-button {
      padding: 0px;
      margin: 0px;
    }
  }

  .kanban-plugin__drag-container
    > .kanban-plugin__item-wrapper
    .kanban-plugin__item {
    box-shadow: 0px 15px 25px rgba(0, 0, 0, 0.2),
      0 0 0 2px var(--interactive-accent);
  }

  .is-sorting
    .kanban-plugin__lane-items
    > .kanban-plugin__placeholder:only-child {
    border-color: var(--interactive-accent);
  }

  .kanban-plugin__lane-items > .kanban-plugin__placeholder:only-child {
    border-style: groove;
  }
}

.theme-dark {
  .kanban-plugin__item {
    &:hover {
      filter: brightness(120%);
    }
  }
}

.theme-light {
  .kanban-plugin__item {
    &:hover {
      filter: brightness(103%);
    }
  }
}
